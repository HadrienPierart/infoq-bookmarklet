javascript:(function(){function e(){function e(){if(!window.jQuery.ui){r("script","http://ajax.googleapis.com/ajax/libs/jqueryui/1.10.3/jquery-ui.min.js",t,document.body);r("link","http://ajax.googleapis.com/ajax/libs/jqueryui/1.10.3/themes/vader/jquery-ui.css",document.getElementsByTagName("head")[0])}else{t()}}function t(){if(typeof h2m==="undefined"){r("script","https://rawgithub.com/domchristie/to-markdown/master/src/to-markdown.js",n,document.body)}else{n()}}function n(){var e=$('<div id="markdownRendered"><textarea id="mdToCopy" cols="80" rows="40" style="display: block; margin: auto; padding: 10px;"></textarea></div>');e.appendTo("body");var t=$("#markdownRendered");t.dialog({height:600,width:1e3,modal:true});var n=$("#mdToCopy");n.val("Converting...");var r=$(".text_content_container>.text_info").clone();r=r.find(".related_sponsors").remove().end().find(".clear").remove().end().find("#lowerFullwidthVCR").remove().end().html();r=r.replace(/img(.*?)src="(\/resource\/)/g,'img$1src="http://www.infoq.com$2');var i=toMarkdown(r.split('<div class="random_links">')[0]).replace(/Â /g," ");n.val(i)}function r(e,t,n,r){var i=document.createElement(e);if(e==="link"){i.setAttribute("rel","stylesheet");i.setAttribute("type","text/css");i.setAttribute("href",t)}else{i.src=t;i.onload=r}n.appendChild(i)}if(!($=window.jQuery)){r("script","http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js",e,document.body)}else{e()}}if(document.URL.indexOf("www.infoq.com/")!==-1||window.location.href.indexOf("www.infoq.com/")!==-1){e()}else{alert("This bookmarklet only works on infoQ pages.")}})()