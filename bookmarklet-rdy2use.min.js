javascript:(function(){"use strict";function e(){function n(){if(!window.jQuery.ui){var e=document.createElement("script");e.src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.10.3/jquery-ui.min.js";e.onload=r;document.body.appendChild(e);var t=document.createElement("link");t.setAttribute("rel","stylesheet");t.setAttribute("type","text/css");t.setAttribute("href","http://ajax.googleapis.com/ajax/libs/jqueryui/1.10.3/themes/vader/jquery-ui.css");document.getElementsByTagName("head")[0].appendChild(t)}else{r()}}function r(){if(typeof h2m==="undefined"){var e=document.createElement("script");e.src="https://rawgit.com/mathiasbynens/he/master/he.js";document.body.appendChild(e);var t=document.createElement("script");t.src="https://rawgit.com/domchristie/to-markdown/master/src/to-markdown.js";t.onload=i;document.body.appendChild(t)}else{i()}}function i(){var t=$('<div id="markdownRendered"><textarea id="mdToCopy" cols="80" rows="40" style="display: block; margin: auto; padding: 10px;"></textarea></div>');t.appendTo("body");var n=$("#markdownRendered");n.dialog({height:600,width:1e3,modal:true});var r=$("#mdToCopy");r.val("Converting...");var i=$(".text_content_container>.text_info").clone();i=i.find(".related_sponsors").remove().end().find(".clear").remove().end().find("#lowerFullwidthVCR").remove().end().html();i=i.replace(/img(.*?)src="(\/resource\/)/g,'img$1src="http://www.infoq.com$2');var s="";if(document.URL.indexOf("www.infoq.com/news")!==-1){s=e.news}else if(document.URL.indexOf("www.infoq.com/article")!==-1){s=e.news}var o=[];$(".random_links ul li").each(function(e,t){o.push($(t).text())});o=o.slice(o.indexOf("Topics")+1);var u=s.replace(/\$\{title\}/g,document.title).replace(/\$\{topics\}/g,"\n    - "+o.join("\n    - ")+"\n").replace(/\$\{summary\}/g,$("meta[name=description]").attr("content"));u+=toMarkdown(i.split('<div class="random_links">')[0]);r.val(u)}var e={news:"\n* Title: ${title}\n* Translator:\n* Topics: ${topics}\n* Summary (max 400 chars): ${summary}\n\n---------------------------------------\n\n",article:"\n* Title: ${title}\n* Translator:\n* Topics: ${topics}\n* Short Summary (200 chars max): ${summaryShort}\n* Summary (max 400 chars) : ${summary}\n\n---------------------------------------\n\n"};if(!($=window.jQuery)){var t=document.createElement("script");t.src="http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js";t.onload=n;document.body.appendChild(t)}else{n()}}if(document.URL.indexOf("www.infoq.com/")!==-1||window.location.href.indexOf("www.infoq.com/")!==-1){e()}else{alert("This bookmarklet only works on infoQ pages.")}})()