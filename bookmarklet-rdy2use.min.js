javascript:(function(){"use strict";var e="https://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js",t="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.3/jquery-ui.min.js",n="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.3/themes/vader/jquery-ui.css",o="https://cdn.rawgit.com/mathiasbynens/he/v0.5.0/he.js",a="https://cdn.rawgit.com/domchristie/to-markdown/v0.0.3/src/to-markdown.js";-1!==document.URL.indexOf("www.infoq.com/")||-1!==window.location.href.indexOf("www.infoq.com/")?function(){function r(){if(window.jQuery.ui)i();else{var e=document.createElement("script");e.src=t,e.onload=i,document.body.appendChild(e);var o=document.createElement("link");o.setAttribute("rel","stylesheet"),o.setAttribute("type","text/css"),o.setAttribute("href",n),document.getElementsByTagName("head")[0].appendChild(o)}}function i(){if("undefined"==typeof h2m){var e=document.createElement("script");e.src=o,e.onload=function(){var e=document.createElement("script");e.src=a,e.onload=l,document.body.appendChild(e)},document.body.appendChild(e)}else l()}function l(){$('<div id="markdownRendered"><textarea id="mdToCopy" cols="80" rows="40" style="display: block; margin: auto; padding: 10px;"></textarea><button onclick="saveTextAsFile()" style="position: absolute; top: 10px; left: 6px; text-align: center; background: #3498db; background-image: linear-gradient(to bottom, #3498db, #2980b9); border-radius: 10px; box-shadow: 2px 2px 2px #666666; font-family: Arial; color: #ffffff; font-size: 18px; padding: 5px 13px; border: solid #1f628d 2px; text-decoration: none; cursor:pointer;">Download</button></div>').appendTo("body"),$("#markdownRendered").dialog({height:600,width:1e3,modal:!0});var e=$("#mdToCopy");e.val("Converting..."),["ul.sh_t","#topInfo","#header",".article_page_right",".related_sponsors",".comment_here",".bottomContent",".comments",".authModal",".clear",".follow__div",".overlay_comments",".all_comments",".popupLoginComments","#overlay_comments","#lowerFullwidthVCR","#responseContent","#footer","script"].forEach(function(e){$(e).remove()});var t=$(".text_content_container>.text_info").clone();t=(t=(t=(t=(t=t.html()).replace(/<img(.*)src="(.*?)".*>/g,'<img src="$2"/>')).replace(/&nbsp;/g," ")).replace(/\u00a0/g," ")).replace(/<pre\b[^>]*>([\w\W\s\S.]*?)<\/pre>/g,function(e,t){return("\n"+t+"\n").replace(/<span[\s\S]*?>/g,"").replace(/<\/span>/g,"")});var n="";-1!==document.URL.indexOf("www.infoq.com/news")?n=c.news:-1!==document.URL.indexOf("www.infoq.com/article")&&(n=c.news);var o=[];$(".related__topics .follow__what").each(function(e,t){o.push($(t).text())});var a=n.replace(/\$\{title\}/g,document.title).replace(/\$\{original_url\}/g,window.location.href).replace(/\$\{topics\}/g,"\n    - "+o.join("\n    - ")+"\n").replace(/\$\{summary\}/g,$("meta[name=description]").attr("content"));a=(a+=toMarkdown(t.split('<div class="related">')[0])).replace(/<!--[\S\s.]*?-->/,""),$(".ui-dialog").zIndex(1e4),e.val(a)}var c={news:"\n* URL: ${original_url}\n* Title: ${title}\n* Translator:\n* Topics: ${topics}\n* Summary (max 400 chars): ${summary}\n\n---------------------------------------\n\n",article:"\n* URL: ${original_url}\n* Title: ${title}\n* Translator:\n* Topics: ${topics}\n* Short Summary (200 chars max): ${summaryShort}\n* Summary (max 400 chars) : ${summary}\n\n---------------------------------------\n\n"};if($=window.jQuery)r();else{var d=document.createElement("script");d.src=e,d.onload=r,document.body.appendChild(d)}window.saveTextAsFile=function(){var e=document.getElementById("mdToCopy").value,t=new Blob([e],{type:"text/plain"}),n=window.location.pathname.split("/"),o=n[n.length-1]+".md",a=document.createElement("a");a.download=o,a.innerHTML="Download File",null!=window.webkitURL?a.href=window.webkitURL.createObjectURL(t):(a.href=window.URL.createObjectURL(t),a.onclick=function(e){document.body.removeChild(e.target)},a.style.display="none",document.body.appendChild(a)),a.click()}}():alert("This bookmarklet only works on infoQ pages.")})();