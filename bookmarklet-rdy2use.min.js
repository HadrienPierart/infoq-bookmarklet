javascript:(function(){function e(){function t(){if(!window.jQuery.ui){var e=document.createElement("script");e.src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.10.3/jquery-ui.min.js";e.onload=n;document.body.appendChild(e);var t=document.createElement("link");t.setAttribute("rel","stylesheet");t.setAttribute("type","text/css");t.setAttribute("href","http://ajax.googleapis.com/ajax/libs/jqueryui/1.10.3/themes/vader/jquery-ui.css");document.getElementsByTagName("head")[0].appendChild(t)}else{n()}}function n(){if(typeof h2m==="undefined"){var e=document.createElement("script");e.src="https://rawgithub.com/domchristie/to-markdown/master/src/to-markdown.js";e.onload=r;document.body.appendChild(e)}else{r()}}function r(){var e=$('<div id="markdownRendered"><textarea id="mdToCopy" cols="80" rows="40" style="display: block; margin: auto; padding: 10px;"></textarea></div>');e.appendTo("body");var t=$("#markdownRendered");t.dialog({height:600,width:1e3,modal:true});var n=$("#mdToCopy");n.val("Converting...");var r=$(".text_content_container>.text_info").clone();r=r.find(".related_sponsors").remove().end().find(".clear").remove().end().find("#lowerFullwidthVCR").remove().end().html();var i=toMarkdown(r.split('<div class="random_links">')[0]);n.val(i)}if(!($=window.jQuery)){var e=document.createElement("script");e.src="http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js";e.onload=t;document.body.appendChild(e)}else{t()}}if(document.URL.indexOf("www.infoq.com/")!==-1||window.location.href.indexOf("www.infoq.com/")!==-1){e()}else{alert("This bookmarklet only works on infoQ pages.")}})()
